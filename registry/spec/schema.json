{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://agent-manifest.com/schemas/v0.1/manifest.json",
  "title": "Agent Manifest",
  "description": "Schema for AgentManifest v0.2 specification",
  "type": "object",
  "required": [
    "spec_version",
    "name",
    "version",
    "description",
    "categories",
    "primary_category",
    "endpoints",
    "pricing",
    "authentication",
    "reliability",
    "agent_notes",
    "contact",
    "listing_requested",
    "last_updated"
  ],
  "properties": {
    "spec_version": {
      "type": "string",
      "enum": ["agentmanifest-0.2"],
      "description": "Version of the AgentManifest specification"
    },
    "name": {
      "type": "string",
      "minLength": 3,
      "maxLength": 100,
      "description": "Human-readable name of the API"
    },
    "version": {
      "type": "string",
      "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
      "description": "Semantic version of the API"
    },
    "description": {
      "type": "string",
      "minLength": 100,
      "description": "Plain language explanation for AI agents"
    },
    "categories": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "enum": [
          "food-science",
          "materials",
          "construction",
          "music-gear",
          "chemistry",
          "biology",
          "geography",
          "finance",
          "legal",
          "medical",
          "engineering",
          "agriculture",
          "computing",
          "language",
          "history",
          "commerce",
          "identity",
          "weather",
          "logistics",
          "other"
        ]
      },
      "description": "Categories from controlled vocabulary"
    },
    "primary_category": {
      "type": "string",
      "enum": [
        "reference",
        "live",
        "computational",
        "transactional",
        "enrichment",
        "personal",
        "discovery"
      ],
      "description": "Primary classification of the API"
    },
    "endpoints": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["path", "method", "description", "parameters", "response_description"],
        "properties": {
          "path": {
            "type": "string",
            "pattern": "^/",
            "description": "API endpoint path"
          },
          "method": {
            "type": "string",
            "enum": ["GET", "POST", "PUT", "DELETE", "PATCH"],
            "description": "HTTP method"
          },
          "description": {
            "type": "string",
            "minLength": 20,
            "description": "When and why agents should use this endpoint"
          },
          "parameters": {
            "type": "array",
            "items": {
              "type": "object",
              "required": ["name", "type", "required", "description"],
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Parameter name"
                },
                "type": {
                  "type": "string",
                  "description": "Parameter type"
                },
                "required": {
                  "type": "boolean",
                  "description": "Whether parameter is required"
                },
                "description": {
                  "type": "string",
                  "description": "Parameter description"
                }
              }
            },
            "description": "Array of parameter objects"
          },
          "response_description": {
            "type": "string",
            "minLength": 20,
            "description": "Response content and interpretation guide"
          }
        }
      },
      "description": "Available API endpoints"
    },
    "pricing": {
      "type": "object",
      "required": ["model"],
      "properties": {
        "model": {
          "type": "string",
          "enum": ["free", "per-query", "subscription", "pay-what-you-want", "tiered"],
          "description": "Pricing model"
        },
        "free_tier": {
          "type": ["object", "null"],
          "properties": {
            "queries_per_day": {
              "type": ["number", "null"],
              "minimum": 0,
              "description": "Daily query limit"
            },
            "queries_per_month": {
              "type": ["number", "null"],
              "minimum": 0,
              "description": "Monthly query limit"
            }
          },
          "description": "Free usage limits"
        },
        "paid_tier": {
          "type": ["object", "null"],
          "required": ["amount_usd", "unit", "description"],
          "properties": {
            "amount_usd": {
              "type": "number",
              "minimum": 0,
              "description": "Cost in USD"
            },
            "unit": {
              "type": "string",
              "description": "What the cost applies to"
            },
            "description": {
              "type": "string",
              "description": "Human-readable pricing description"
            }
          },
          "description": "Paid tier details"
        },
        "support_url": {
          "type": ["string", "null"],
          "format": "uri",
          "description": "URL for voluntary contributions or payment"
        }
      },
      "description": "Pricing information"
    },
    "authentication": {
      "type": "object",
      "required": ["required"],
      "properties": {
        "required": {
          "type": "boolean",
          "description": "Whether authentication is required"
        },
        "type": {
          "type": ["string", "null"],
          "enum": ["api_key", "oauth2", "bearer", "none", null],
          "description": "Authentication type"
        },
        "instructions": {
          "type": ["string", "null"],
          "description": "Instructions for obtaining credentials"
        }
      },
      "description": "Authentication requirements"
    },
    "reliability": {
      "type": "object",
      "required": ["maintained_by"],
      "properties": {
        "maintained_by": {
          "type": "string",
          "enum": ["individual", "organization", "community"],
          "description": "Who maintains this API"
        },
        "status_url": {
          "type": ["string", "null"],
          "format": "uri",
          "description": "URL for status page"
        },
        "expected_uptime_pct": {
          "type": ["number", "null"],
          "minimum": 0,
          "maximum": 100,
          "description": "Expected uptime percentage"
        }
      },
      "description": "Reliability information"
    },
    "agent_notes": {
      "type": "string",
      "minLength": 50,
      "description": "Freeform guidance for AI agents"
    },
    "contact": {
      "type": "string",
      "description": "Contact email or URL"
    },
    "listing_requested": {
      "type": "boolean",
      "description": "Whether API requests public listing"
    },
    "last_updated": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of last manifest update"
    }
  },
  "additionalProperties": true
}
